const dist = [
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 56, 65, 51, 75, 78, 62, 69, 77, 67, 71, 62, 55, 77, 64, 71, 58, 71, 71, 60, 82, 78, 71, 87, 75, 80, 78, 75, 85, 72, 71, 66, 73, 76, 72, 69, 68, 66, 76, 81, 96, 79, 77, 96, 86, 82, 75, 90, 76, 76, 88, 80, 76, 101, 89, 81, 81, 83, 83, 79, 86, 84, 87, 79, 86, 87, 99, 89, 95, 91, 90, 83, 103, 93, 91, 104, 94, 94, 79, 95, 97, 103, 86, 108, 95, 102, 95, 85, 109, 85, 104, 113, 106, 92, 94, 88, 100, 94, 105, 101, 97, 107, 105, 105, 109, 118, 98, 114, 129, 113, 105, 131, 118, 103, 115, 114, 112, 120, 129, 137, 117, 127, 114, 118, 120, 110, 119, 120, 114, 125, 120, 138, 128, 123, 116, 123, 128, 130, 126, 138, 118, 127, 142, 122, 126, 135, 131, 127, 164, 137, 133, 126, 134, 139, 127, 158, 137, 140, 154, 126, 132, 145, 134, 131, 146, 136, 151, 146, 140, 148, 154, 154, 152, 156, 141, 156, 172, 146, 152, 151, 167, 151, 170, 151, 154, 160, 178, 162, 166, 171, 182, 171, 155, 170, 166, 175, 174, 141, 186, 165, 186, 165, 170, 168, 157, 167, 188, 190, 180, 157, 176, 184, 188, 214, 198, 185, 176, 188, 193, 185, 189, 198, 191, 199, 196, 191, 204, 191, 198, 228, 215, 225, 198, 200, 207, 204, 217, 199, 217, 211, 228, 203, 208, 203, 213, 228, 229, 216, 212, 245, 244, 190, 209, 238, 233, 221, 226, 240, 255, 232, 222, 219, 267, 226, 244, 254, 217, 250, 223, 255, 258, 236, 237, 261, 258, 257, 264, 241, 270, 263, 272, 239, 234, 265, 268, 269, 285, 271, 314, 252, 287, 285, 258, 275, 259, 285, 290, 291, 284, 282, 293, 277, 302, 293, 286, 290, 287, 279, 300, 309, 298, 288, 316, 311, 311, 324, 297, 306, 319, 325, 316, 317, 312, 300, 316, 300, 330, 358, 310, 327, 337, 342, 348, 335, 345, 336, 343, 351, 343, 355, 354, 347, 375, 346, 350, 365, 370, 393, 354, 369, 366, 375, 365, 369, 375, 365, 356, 383, 385, 373, 385, 387, 435, 400, 389, 401, 400, 410, 395, 407, 371, 421, 424, 440, 454, 402, 402, 452, 413, 414, 430, 412, 421, 450, 446, 424, 434, 447, 445, 437, 422, 438, 453, 442, 478, 476, 467, 483, 475, 451, 480, 462, 452, 478, 489, 491, 495, 470, 505, 480, 503, 496, 492, 490, 532, 514, 529, 528, 502, 506, 501, 531, 534, 538, 530, 519, 538, 517, 610, 534, 580, 554, 560, 539, 567, 554, 572, 591, 612, 549, 571, 581, 546, 582, 593, 602, 599, 627, 562, 598, 602, 628, 596, 633, 627, 621, 610, 603, 629, 638, 632, 645, 664, 643, 642, 677, 656, 635, 697, 681, 657, 701, 647, 697, 699, 706, 683, 702, 699, 696, 717, 699, 713, 706, 725, 715, 772, 695, 721, 754, 750, 769, 740, 728, 753, 763, 801, 763, 769, 765, 778, 778, 785, 817, 787, 833, 766, 808, 838, 834, 812, 820, 819, 839, 817, 782, 839, 860, 848, 859, 893, 847, 931, 866, 892, 877, 858, 922, 874, 895, 915, 883, 894, 921, 915, 974, 933, 934, 982, 933, 954, 954, 951, 955, 985, 964, 971, 985, 990, 1014, 982, 988, 1001, 1048, 1031, 1037, 1026, 1050, 1063, 1014, 1083, 1045, 1061, 1098, 1040, 1066, 1082, 1103, 1107, 1045, 1102, 1125, 1138, 1126, 1177, 1094, 1166, 1136, 1163, 1184, 1171, 1171, 1124, 1174, 1223, 1168, 1168, 1197, 1229, 1209, 1261, 1197, 1289, 1220, 1253, 1248, 1253, 1256, 1259, 1291, 1281, 1302, 1291, 1285, 1344, 1272, 1335, 1363, 1306, 1359, 1380, 1387, 1358, 1345, 1400, 1366, 1387, 1414, 1389, 1436, 1391, 1439, 1424, 1436, 1417, 1489, 1473, 1481, 1489, 1504, 1465, 1474, 1510, 1565, 1517, 1525, 1579, 1522, 1546, 1553, 1579, 1563, 1588, 1592, 1601, 1631, 1668, 1568, 1680, 1640, 1645, 1673, 1647, 1648, 1669, 1722, 1713, 1678, 1723, 1740, 1714, 1743, 1755, 1747, 1776, 1791, 1794, 1808, 1761, 1824, 1848, 1823, 1802, 1881, 1864, 1909, 1886, 1872, 1925, 1896, 1843, 2003, 1929, 1931, 1999, 1945, 2008, 1990, 1976, 2010, 2013, 2013, 2004, 2015, 2122, 2066, 2080, 2095, 2129, 2084, 2093, 2146, 2153, 2138, 2156, 2143, 2219, 2220, 2195, 2249, 2230, 2227, 2195, 2293, 2347, 2235, 2301, 2307, 2326, 2313, 2316, 2343, 2387, 2424, 2361, 2439, 2340, 2406, 2482, 2445, 2498, 2428, 2526, 2473, 2536, 2491, 2603, 2523, 2554, 2529, 2633, 2603, 2631, 2614, 2649, 2587, 2692, 2749, 2631, 2729, 2749, 2737, 2748, 2771, 2782, 2796, 2772, 2852, 2814, 2828, 2853, 2851, 2912, 2920, 2906, 2951, 2930, 2994, 2948, 2997, 3052, 3004, 3046, 3052, 3091, 3092, 3112, 3094, 3096, 3142, 3197, 3171, 3203, 3191, 3254, 3224, 3254, 3259, 3303, 3302, 3332, 3348, 3351, 3374, 3403, 3399, 3491, 3391, 3481, 3484, 3491, 3475, 3541, 3551, 3605, 3562, 3562, 3623, 3662, 3646, 3634, 3713, 3768, 3711, 3728, 3761, 3802, 3837, 3790, 3814, 3869, 3958, 3869, 3953, 3878, 3985, 4056, 3978, 3941, 4055, 4025, 4117, 4127, 4089, 4151, 4135, 4178, 4279, 4237, 4212, 4239, 4336, 4361, 4262, 4372, 4379, 4368, 4437, 4509, 4418, 4476, 4499, 4520, 4552, 4583, 4582, 4655, 4673, 4661, 4751, 4688, 4675, 4791, 4814, 4805, 4857, 4863, 4941, 4893, 4908, 4939, 4980, 4986, 5066, 5063, 5060, 5125, 5129, 5163, 5211, 5250, 5199, 5286, 5273, 5344, 5323, 5341, 5404, 5421, 5519, 5416, 5586, 5511, 5568, 5590, 5584, 5652, 5688, 5696, 5746, 5742, 5785, 5855, 5841, 5928, 5891, 5923, 6009, 5902, 6116, 6087, 6060, 6067, 6175, 6173, 6179, 6284, 6242, 6305, 6403, 6378, 6363, 6465, 6448, 6483, 6542, 6531, 6605, 6593, 6727, 6717, 6663, 6817, 6772, 6851, 6854, 6870, 6990, 6876, 7033, 7049, 7061, 7108, 7194, 7171, 7176, 7272, 7326, 7330, 7339, 7394, 7445, 7489, 7499, 7547, 7615, 7605, 7625, 7728, 7745, 7832, 7772, 7862, 7915, 7898, 7992, 8008, 8038, 8112, 8173, 8179, 8189, 8267, 8274, 8305, 8511, 8362, 8447, 8580, 8463, 8610, 8712, 8673, 8693, 8796, 8817, 8898, 8874, 8906, 9023, 9042, 9111, 9077, 9133, 9286, 9302, 9282, 9377, 9387, 9443, 9470, 9620, 9557, 9612, 9763, 9731, 9761, 9912, 9812, 9891, 10037, 10064, 10058, 10133, 10202, 10263, 10301, 10342, 10375, 10425, 10569, 10566, 10577, 10634, 10779, 10726, 10794, 10862, 10944, 10958, 11067, 11081, 11199, 11185, 11263, 11308, 11383, 11463, 11476, 11580, 11540, 11718, 11676, 11795, 11837, 11873, 11999, 12024, 12046, 12129, 12282, 12231, 12340, 12347, 12421, 12498, 12547, 12635, 12660, 12818, 12828, 12820, 12938, 12998, 13045, 13143, 13213, 13207, 13389, 13423, 13467, 13540, 13574, 13691, 13685, 13863, 13844, 13913, 14071, 14087, 14176, 14159, 14351, 14332, 14468, 14503, 14591, 14675, 14750, 14750, 14896, 14955, 15044, 15039, 15235, 15225, 15393, 15380, 15530, 15543, 15655, 15722, 15786, 15876, 15976, 16017, 16175, 16193, 16215, 16372, 16477, 16522, 16656, 16695, 16711, 16900, 16960, 17027, 17111, 17187, 17288, 17433, 17463, 17550, 17656, 17635, 17834, 17910, 18006, 18113, 18190, 18224, 18339, 18512, 18519, 18626, 18699, 18851, 18883, 19006, 19173, 19206, 19289, 19382, 19526, 19605, 19670, 19790, 19908, 19930, 20125, 20180, 20327, 20358, 20469, 20631, 20670, 20820, 20888, 21002, 21128, 21233, 21371, 21393, 21595, 21633, 21717, 21893, 22016, 22066, 22181, 22303, 22422, 22543, 22628, 22765, 22917, 22957, 23123, 23202, 23389, 23440, 23574, 23665, 23788, 23940, 24040, 24230, 24227, 24395, 24611, 24611, 24769, 24976, 24926, 25181, 25263, 25465, 25510, 25651, 25807, 25879, 26025, 26110, 26317, 26405, 26541, 26684, 26811, 26891, 27109, 27236, 27297, 27472, 27671, 27811, 27798, 28073, 28167, 28305, 28449, 28649, 28727, 28880, 29064, 29158, 29337, 29499, 29624, 29764, 29908, 30048, 30229, 30392, 30542, 30646, 30834, 31020, 31089, 31355, 31430, 31600, 31768, 31907, 32105, 32212, 32458, 32583, 32693, 32853, 33008, 33281, 33403, 33537, 33722, 33886, 34074, 34197, 34409, 34589, 34755, 34921, 35108, 35252, 35432, 35625, 35762, 36001, 36190, 36270, 36556, 36666, 36828, 37136, 37220, 37450, 37550, 37868, 37988, 38104, 38343, 38634, 38699, 38950, 39074, 39329, 39542, 39656, 39913, 40074, 40340, 40446, 40635, 40889, 41028, 41264, 41434, 41697, 41843, 42065, 42269, 42443, 42715, 42830, 42985, 43203, 43359, 43570, 43635, 43836, 44013, 44182, 44336, 44474, 44587, 44854, 44815, 44846, 44980, 44970, 45180, 45073, 45016, 45017, 45228, 45291, 45251, 44489, 42761, 42690, 42566, 42118, 41545, 41087, 40608, 40133, 39600, 39065, 38303, 37126, 35678, 34576, 32883, 31352, 30265, 28355, 25542, 23136, 21311, 20027, 18453, 17066, 15337, 13789, 12263, 11094, 9727, 8822, 7624, 45918, 57171, 56954, 56402, 56154, 55760, 55711, 55622, 55584, 55629, 55684, 55811, 55821, 56004, 56185, 56387, 56501, 56650, 56662, 56879, 57122, 57318, 57645, 57814, 58080, 58378, 58701, 58877, 59202, 59592, 59721, 60085, 60309, 60627, 60939, 61200, 61535, 61785, 62108, 62429, 62766, 62987, 63371, 63713, 64004, 64303, 64617, 64961, 65242, 65564, 65955, 66271, 66635, 66940, 67150, 67604, 67951, 68185, 68649, 68968, 69312, 69601, 69951, 70333, 70708, 70972, 71324, 71680, 71982, 72386, 72623, 72939, 73155, 73367, 73509, 73683, 73760, 73523, 73211, 72538, 71577, 70094, 68349, 65623, 62632, 58053, 52109, 44070, 35977, 101801, 97756, 90813, 86387, 84206, 83609, 83480, 83564, 83846, 84203, 84568, 84963, 85345, 85797, 86223, 86641, 87056, 87569, 87888, 88445, 88853, 89233, 89710, 90186, 90612, 91111, 91544, 91985, 92479, 92917, 93304, 93915, 94339, 94748, 95308, 95750, 96277, 96662, 97194, 97681, 98185, 98652, 99166, 99652, 100123, 100753, 101112, 101654, 102182, 102716, 103166, 103780, 104236, 104711, 105343, 105845, 106266, 106948, 107378, 107988, 108512, 108984, 109624, 110138, 110639, 111265, 111834, 112349, 112927, 113488, 114090, 114645, 115108, 115876, 116329, 116962, 117499, 118151, 118757, 119252, 119885, 120545, 121058, 121723, 122375, 122871, 123489, 124206, 124732, 125352, 125929, 126501, 127138, 127708, 128218, 128801, 129297, 129689, 130063, 130274, 130375, 130217, 129992, 129611, 128746, 127664, 125932, 123283, 119519, 114864, 109102, 102230, 92730, 81674, 65866, 41581, 58209, 73483, 68679, 66129, 65556, 65399, 65609, 65971, 66153, 66526, 66824, 67193, 67459, 67864, 68205, 68493, 68871, 69146, 69575, 69945, 70244, 70574, 70956, 71337, 71654, 72034, 72431, 72700, 73128, 73493, 73838, 74243, 74624, 74947, 75304, 75756, 76092, 76533, 76836, 77265, 77629, 78029, 78369, 78834, 79250, 79567, 80059, 80413, 80750, 81229, 81640, 81998, 82480, 82810, 83291, 83655, 84120, 84505, 84938, 85334, 85831, 86187, 86683, 87046, 87594, 87914, 88387, 88834, 89247, 89701, 90177, 90559, 91007, 91432, 91886, 92327, 92828, 93074, 93489, 93945, 94258, 94608, 94834, 95030, 95210, 95316, 95245, 95210, 95065, 94821, 94063, 93285, 92437, 91202, 89350, 86882, 84185, 80889, 77272, 73012, 68634, 64244, 59572, 54733, 49229, 42112, 38161, 33480, 28677, 23621, 17941, 16356, 13570, 12345, 11254, 10172, 9659, 9615, 5106, 3569, 3395, 1055, 224, 215, 135, 49, 50, 42, 31, 33, 32, 31, 10, 4, 3, 5, 4, 4, 4, 4, 3, 3, 5, 3, 3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3398, 12575, 13259, 13554, 13761, 13806, 13938, 14030, 14043, 14163, 14226, 14303, 14390, 14480, 14513, 14598, 14615, 14755, 14808, 14830, 14966, 15067, 15071, 15188, 15234, 15314, 15396, 15500, 15538, 15637, 15705, 15752, 15885, 15988, 16050, 16054, 16187, 16201, 16343, 16378, 16474, 16540, 16584, 16717, 16660, 16794, 16775, 16804, 16785, 16758, 16612, 16290, 15895, 15228, 14133, 12543, 10403, 5279, 3262, 1835, 979, 609, 427, 1485, 6234, 6916, 7093, 7211, 7258, 7383, 7379, 7419, 7504, 7453, 7561, 7529, 7655, 7613, 7709, 7707, 7737, 7802, 7795, 7875, 7895, 7952, 7944, 8039, 8050, 8074, 8120, 8179, 8276, 8203, 8282, 8344, 8394, 8395, 8461, 8498, 8555, 8564, 8665, 8627, 8706, 8744, 8789, 8807, 8850, 8954, 8928, 8964, 9056, 9058, 9104, 9186, 9164, 9219, 9327, 9274, 9305, 9307, 9417, 9358, 9444, 9390, 9448, 9437, 9396, 9374, 9318, 9108, 8997, 8548, 8065, 7684, 6984, 6240, 5199, 3399, 2114, 1136, 835, 624, 462, 364, 318, 230, 198, 149, 116, 104, 95, 85, 77, 51, 44, 45, 95, 526, 684, 761, 844, 890, 924, 959, 949, 1002, 975, 1025, 1029, 1029, 1049, 1040, 1070, 1055, 1067, 1080, 1084, 1097, 1107, 1096, 1130, 1091, 1104, 1167, 1102, 1147, 1146, 1180, 1164, 1151, 1136, 1218, 1133, 1239, 1142, 1194, 1220, 1197, 1221, 1220, 1255, 1248, 1214, 1242, 1242, 1227, 1280, 1279, 1236, 1274, 1307, 1272, 1300, 1336, 1305, 1317, 1276, 1331, 1344, 1344, 1356, 1351, 1365, 1344, 1390, 1339, 1393, 1396, 1403, 1422, 1381, 1412, 1410, 1421, 1450, 1456, 1396, 1474, 1460, 1441, 1447, 1477, 1479, 1475, 1490, 1461, 1534, 1524, 1489, 1500, 1517, 1513, 1549, 1545, 1534, 1507, 1603, 1550, 1574, 1515, 1596, 1567, 1540, 1618, 1598, 1609, 1589, 1591, 1587, 1613, 1595, 1572, 1606, 1640, 1636, 1651, 1605, 1638, 1631, 1654, 1628, 1652, 1649, 1616, 1657, 1648, 1633, 1617, 1674, 1609, 1647, 1655, 1669, 1618, 1672, 1602, 1658, 1664, 1612, 1643, 1631, 1621, 1637, 1615, 1618, 1579, 1585, 1555, 1569, 1578, 1543, 1532, 1527, 1496, 1501, 1452, 1500, 1458, 1456, 1466, 1452, 1434, 1423, 1454, 1426, 1413, 1398, 1373, 1381, 1330, 1351, 1316, 1331, 1345, 1310, 1293, 1321, 1248, 1269, 1239, 1250, 1200, 1194, 1185, 1170, 1135, 1124, 1148, 1120, 1093, 1125, 1087, 1085, 997, 1000, 1024, 966, 943, 924, 898, 892, 898, 881, 848, 841, 597, 559, 563, 545, 546, 535, 496, 441, 433, 414, 415, 393, 406, 391, 411, 396, 378, 377, 380, 348, 319, 293, 292, 289, 290, 272, 284, 273, 279, 268, 291, 275, 276, 269, 272, 267, 266, 274, 261, 255, 265, 245, 257, 260, 253, 261, 254, 252, 250, 253, 254, 257, 255, 252, 252, 249, 255, 167, 30, 19, 32, 27, 28, 29, 24, 27, 22, 17, 19, 22, 14, 19, 16, 19, 12, 15, 18, 19, 15, 11, 10, 8, 13, 17, 6, 7, 9, 9, 13, 5, 11, 8, 9, 11, 10, 6, 11, 4, 8, 8, 6, 4, 7, 7, 5, 4, 6, 11, 8, 7, 6, 4, 2, 8, 6, 3, 2, 5, 9, 5, 5, 9, 3, 5, 11, 2, 5, 4, 8, 6, 4, 7, 0, 6, 3, 1, 4, 4, 3, 7, 3, 2, 2, 5, 3, 2, 3, 3, 7, 3, 9, 4, 5, 3, 6, 2, 2, 3, 3, 3, 2, 3, 5, 1, 1, 4, 2, 1, 0, 2, 3, 4, 0, 4, 5, 3, 3, 3, 0, 1, 2, 3, 1, 0, 0, 2, 3, 3, 2, 1, 2, 3, 2, 1, 1, 1, 1, 5, 0, 0, 1, 1, 2, 2, 4, 2, 2, 2, 1, 2, 0, 1, 1, 1, 0, 2, 2, 2, 0, 1, 1, 0, 2, 0, 1, 1, 2, 1, 0, 0, 0, 2, 1, 2, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 0, 0, 0, 2, 0, 0, 1, 2, 0, 0, 2, 2, 1, 1, 2, 0, 0, 0, 1, 0, 2, 0, 1, 0, 0, 0, 2, 1, 0, 1, 0, 0, 2, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 2, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
];

var sizFasce;
var attivi = [];
var idDaEli;
const infinito = 1e20;
const err = 0.02;

function inizialize() {
	var wrapper = $(".container1");
	fasce = [15e3, 28e3, 55e3, 75e3, infinito];
	aliquote = [0.23, 0.27, 0.38, 0.41, 0.43]
	fasce.unshift(0);
	aliquote.unshift(0);
	sizFasce = fasce.length;

	i = 0; ``
	$(wrapper).append(`
		<div>
			<form>
				da 0 fino a 
				<input type="number" step="100"  id="a${i}" class="input" value=${fasce[i + 1]} onchange="changeDa(${i},${this.value})">
				<input type="number" id="al${i}" class="input" value=${aliquote[i + 1]} step="0.01">
				<a href="#" id="${i}"class="delete">
					Delete
				</a>
				<button class="add_form_field" id="btn${i}">
					&nbsp;
					<span style="font-size:16px; font-weight:bold;">
						+ 
					</span>
				</button>
			</form>
		</div>
	`); //add input box

	attivi[i] = i;
	for (i = 1; i < sizFasce - 2; i++) {
		$(wrapper).append(form(i));
		attivi[i] = i;
	}

	$(wrapper).append(`
		<div>
			<form>
				<input type="number" id="da${i}"  step="100" class="input" value=${fasce[i]} onchange="changeA(${i},${this.value})">
				in poi
				<input type="number" id="al${i}" class="input" value=${aliquote[i + 1]} step="0.01">
				<button class="add_form_field" id="btn${i}">
					&nbsp;
					<span style="font-size:16px; font-weight:bold;">
						+ 
					</span>
				</button>
			</form> 
		</div>
	`); //add input box
	attivi[i] = i;
}


inizialize();
azione();

function azione() {

	ded = document.getElementById('ded').value;
	detr = document.getElementById('detr').value;
	siz = dist.length;
	tot = 0;
	aliquote = [];
	sizAttivi = attivi.length;
	for (i = 0; i < sizAttivi; i++) {
		aliquote[i] = document.getElementById(`al${attivi[i]}`).value;
	}

	fasce = [];
	fasce.push(0)
	for (i = 1; i < sizAttivi; i++) {
		fasce[i] = document.getElementById(`da${attivi[i]}`).value;
	}
	fasce.push(infinito)

	for (i = 0; i < siz; i++) {
		reddito = Math.exp(i / 200) - ded;
		if (reddito < 0)
			reddito = 0;
		tax = 0;
		for (j = 0; j < sizAttivi; j++) {
			if (reddito > fasce[j]) {
				eff = Math.min(reddito, fasce[j + 1]) - fasce[j];
				tax += eff * aliquote[j];
			}
		}
		tot += (tax - detr) * dist[i];
	}
	document.getElementById("tot").innerHTML = Math.round(tot / 1e9);
	document.getElementById("pom").innerHTML = Math.round(tot * err / 1e9);
}




var $input = $('.input');

$input.on('change', function () {
	azione();
});

function changeDa(x, val) {

	len = attivi.length;
	for (var i = 0; i < len; i++) {
		if (attivi[i] == x) {
			fasce = parseIntFasce(fasce)
			if (val > fasce[i] && val < fasce[i + 2]) {
				document.getElementById(`da${attivi[i + 1]}`).value = val;
				fasce[i + 1] = val;
			}
			else if (val < fasce[i]) {
				fasce[i + 1] = fasce[i] + 100;
				document.getElementById(`da${attivi[i + 1]}`).value = fasce[i + 1];
				document.getElementById(`a${attivi[i]}`).value = fasce[i + 1];
			}
			else if (val > fasce[i + 2]) {
				fasce[i + 1] = fasce[i + 2] - 100;
				document.getElementById(`da${attivi[i + 1]}`).value = fasce[i + 1];
				document.getElementById(`a${attivi[i]}`).value = fasce[i + 1];
			}
		}
	}
	azione();
}

function changeA(x, val) {

	len = attivi.length;
	for (var i = 0; i < len; i++) {
		if (attivi[i] == x) {
			fasce = parseIntFasce(fasce);
			if (val > fasce[i - 1] && val < fasce[i + 1]) {
				document.getElementById(`a${attivi[i]}`).value = val;
				fasce[i] = val;
			}
			else if (val < fasce[i - 1]) {
				fasce[i] = fasce[i - 1] + 100;
				document.getElementById(`a${attivi[i - 1]}`).value = fasce[i];
				document.getElementById(`da${attivi[i]}`).value = fasce[i];
			}
			else if (val > fasce[i + 1]) {
				fasce[i] = fasce[i + 1] - 100;
				document.getElementById(`a${attivi[i - 1]}`).value = fasce[i];
				document.getElementById(`da${attivi[i]}`).value = fasce[i];
			}
		}
	}
	azione();
}



function form(i) {
	return `
		<div>
			<form>
				<input type="number" id="da${i}" class="input" value=${fasce[i]} onchange="changeA(${i}, ${this.value})" step="100">
					<input type="number" id="a${i}" class="input" value=${fasce[i + 1]} step="100" onchange="changeDa(${i}, ${this.value})">
					<input type="number" id="al${i}" class="input" value=${aliquote[i + 1]} step="0.01">
					<a href="#" id="${i}"class="delete">
						Delete
					</a>	
					<button class="add_form_field" id="btn${i}">
						&nbsp;
						<span style="font-size:16px; font-weight:bold;">
							+ 
						</span>
					</button>
			</form> 
		</div>
	`;
}

function parseIntFasce(fasce) {
	len = fasce.length;
	for (i = 0; i < len; i++) {
		fasce[i] = parseInt(fasce[i]);
	}
	return fasce;
}



$(document).ready(function () {
	var wrapper = $(".container1");
	var add_button = $(".add_form_field");


	$(wrapper).on("click", ".add_form_field", function (e) {

		e.preventDefault();
		idAgg = parseInt($(this).attr('id').replace('btn', ''));
		len = attivi.length;

		if (attivi.length > 1) {
			for (var i = 0; i < len; i++) {

				if (attivi[i] == idAgg) {
					newEl = i + 1;
					console.log(Math.max.apply(null, attivi) + 1)
					attivi.splice(i + 1, 0, Math.max.apply(null, attivi) + 1);
					fasce.splice(i + 1, 0, (parseInt(fasce[i + 1]) + parseInt(fasce[i])) / 2);
					document.getElementById("a" + attivi[newEl - 1]).value = fasce[newEl];
					aliquote.splice(i + 1, 0, (parseFloat(aliquote[i + 1]) + parseFloat(aliquote[i])) / 2);
				}
			}

			x = attivi[newEl];
			$(this).parent('form').parent('div').after(`
				<div>
					<form>
						<input type="number" id="da${x}" class="input" value="${fasce[newEl]}"onchange="changeA(${x},${this.value})">
						<input type="number" id="a${x}" class="input" value="${fasce[newEl + 1]}" onchange="changeDa(${x},${this.value})">
						<input type="number" id="al${x}" class="input" value="${aliquote[newEl]}">
						<a href="#" id="${x}" class="delete">
							Delete
						</a>	
						<button class="add_form_field" id="btn${x}">
							&nbsp;
							<span style="font-size:16px; font-weight:bold;">
								+ 
							</span>
						</button>
					</form>
				</div>
			`);

		} else {
			attivi.splice(1, 0, attivi[0] + 1);
			fasce.splice(1, 0, 55000);
			aliquote.splice(0, 0, parseFloat(aliquote[0]) / 2);

			$(this).parent('form').parent('div').remove();
			sizFasce = fasce.length;
			i = 0
			x = attivi[0];

			$(wrapper).append(`
				<div>
					<form>
						da 0 fino a 
						<input type="number" step="100"  id="a${x}" class="input" value=${fasce[i + 1]} onchange="changeDa(${x},${this.value})">
						<input type="number" id="al${x}" class="input" value=${aliquote[i]} step="0.01">
						<a href="#" id="${x}"class="delete">
							Delete
						</a>
						<button class="add_form_field" id="btn${x}">
							&nbsp;
							<span style="font-size:16px; font-weight:bold;">
								+ 
							</span>
						</button>
					</form> 
				</div>
			`); //add input box
			i = 1;
			x = attivi[1]
			$(wrapper).append(`
				<div> 
					<form>
						<input type="number" id="da${x}"  step="100" class="input" value=${fasce[i]} onchange="changeA(${x},${this.value})">
						in poi
						<input type="number" id="al${x}" class="input" value=${aliquote[i]} step="0.01">
						<button class="add_form_field" id="btn${x}">
							&nbsp;
							<span style="font-size:16px; font-weight:bold;">
								+ 
							</span>
						</button>
					</form> 
				</div>`); //add input box

		}
		azione();
	});

	$(wrapper).on("click", ".delete", function (e) {
		e.preventDefault();
		idDaEli = $(this).attr('id');

		for (var i = 0; i < attivi.length; i++) {
			if (attivi[i] == idDaEli) {
				attivi.splice(i, 1);
				k = i;
			}
		}

		$(this).parent('form').parent('div').remove();
		prox = attivi[k];
		document.getElementById("da" + prox).value = fasce[k];
		azione();
		console.log(attivi)
	})
});
